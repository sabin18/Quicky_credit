{"version":3,"sources":["Queries.js"],"names":["sqlQueries","createPartiesTable","createusersTable","createOfficeTable","createCandidatesTable","require","main","module","insertIntoParty","getSpecificParty","getallParty","UpdateParty","deleteParty","insertoffice","getSpecificoffice","getalloffice","Updateoffice","deleteoffice","registerUser","checkUser"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,aAAa,EAAnB;;AAEA;AACA,IAAMC,qBAAqB,sJAA3B;;AAEA;AACA,IAAMC,mBAAmB,kSAAzB;;AAEA;AACA,IAAMC,oBAAoB,oJAA1B;;AAGA;AACA,IAAMC,wBAAwB,iHAA9B;;AAEA,IAAIC,QAAQC,IAAR,KAAiBC,MAArB,EAA6B;AAC3B,4BAAQN,kBAAR;AACA,4BAAQC,gBAAR;AACD;;AAGD;AACA,IAAMM,kBAAkB,qFAAxB;;AAEA;AACA,IAAMC,mBAAmB,qCAAzB;;AAEA,IAAMC,cAAc,wBAApB;;AAEA;AACA,IAAMC,cAAc,sFAApB;;AAEA;AACA,IAAMC,cAAY,mCAAlB;;AAEC;AACD,IAAMC,eAAe,kEAArB;;AAEA;AACA,IAAMC,oBAAoB,oCAA1B;;AAEA,IAAMC,eAAe,uBAArB;;AAEA;AACA,IAAMC,eAAe,kEAArB;;AAEA;AACA,IAAMC,eAAa,iCAAnB;;AAEA;AACA,IAAMC,eAAe,wJAArB;;AAEA;AACA,IAAMC,YAAY,sCAAlB;;AAIAnB,WAAWC,kBAAX,GAAgCA,kBAAhC;;AAEAD,WAAWE,gBAAX,GAA8BA,gBAA9B;;AAEAF,WAAWW,WAAX,GAAyBA,WAAzB;;AAEAX,WAAWS,gBAAX,GAA8BA,gBAA9B;;AAEAT,WAAWU,WAAX,GAAyBA,WAAzB;;AAEAV,WAAWQ,eAAX,GAA6BA,eAA7B;;AAEAR,WAAWI,qBAAX,GAAiCA,qBAAjC;;AAEAJ,WAAWG,iBAAX,GAA8BA,iBAA9B;;AAEAH,WAAWY,WAAX,GAAwBA,WAAxB;;AAEAZ,WAAWkB,YAAX,GAA0BA,YAA1B;;AAEAlB,WAAWmB,SAAX,GAAuBA,SAAvB;;AAEAnB,WAAWa,YAAX,GAAyBA,YAAzB;;AAEAb,WAAWc,iBAAX,GAA8BA,iBAA9B;;AAEAd,WAAWe,YAAX,GAAwBA,YAAxB;;AAEAf,WAAWgB,YAAX,GAAwBA,YAAxB;;AAEAhB,WAAWiB,YAAX,GAAwBA,YAAxB;;kBAGejB,U","file":"Queries.js","sourceRoot":"C:/Users/PIH/Documents/andela curriculum/pratice/politico2/db","sourcesContent":["import execute from '../src/connection';\r\n\r\nconst sqlQueries = {};\r\n\r\n// Create table for parties \r\nconst createPartiesTable = 'CREATE TABLE IF NOT EXISTS parties(id UUID(200) PRIMARY KEY,name VARCHAR(100) NOT NULL,hqaddress VARCHAR(70) NOT NULL,logourl VARCHAR(100) NOT NULL)';\r\n\r\n// Create users table\r\nconst createusersTable = 'CREATE TABLE IF NOT EXISTS users(id UUID(200) PRIMARY KEY, firstname VARCHAR(70) NOT NULL,lastname VARCHAR(70) NOT NULL, othername VARCHAR(70) NOT NULL,email VARCHAR(40) NOT NULL UNIQUE , passporturl VARCHAR(70) NOT NULL, password VARCHAR(200) NOT NULL, userIsadmin VARCHAR(200) NOT NULL)';\r\n\r\n// Create table for office \r\nconst createOfficeTable = 'CREATE TABLE IF NOT EXISTS office(id UUID(200) PRIMARY KEY,office INTEGER(70) NOT NULL,party INTEGER(70) NOT NULL,candidates INTEGER(70) NOT NULL)';\r\n\r\n\r\n// Create table for candidates\r\nconst createCandidatesTable = \"CREATE TABLE IF NOT EXISTS office(id UUID(200) PRIMARY KEY,name VARCHAR(70) NOT NULL,type VARCHAR(70) NOT NULL)\";\r\n\r\nif (require.main === module) {\r\n  execute(createPartiesTable);\r\n  execute(createusersTable);\r\n}\r\n\r\n\r\n// insert party into the database\r\nconst insertIntoParty = 'INSERT INTO parties (id, name, hqaddress, logourl) VALUES($1,$2,$3,$4) RETURNING * ';\r\n\r\n// Pull out a party from a database\r\nconst getSpecificParty = 'SELECT * FROM parties WHERE id =$1 ';\r\n\r\nconst getallParty = 'SELECT * FROM parties ';\r\n\r\n// Update data of a party\r\nconst UpdateParty = 'UPDATE parties SET name = $1, hqaddress= $2 ,logourl = $3 WHERE id = $4 RETURNING * ';\r\n\r\n//delete aparty\r\nconst deleteParty='DELETE FROM parties WHERE id =$1 ';\r\n\r\n //insert office into the database\r\nconst insertoffice = 'INSERT INTO office (id, name,type) VALUES($1,$2,$3) RETURNING * ';\r\n\r\n// Pull out an office from a database\r\nconst getSpecificoffice = 'SELECT * FROM office WHERE id =$1 ';\r\n\r\nconst getalloffice = 'SELECT * FROM office ';\r\n\r\n// Update data of an office\r\nconst Updateoffice = 'UPDATE office SET name = $1, type= $2 WHERE id = $3 RETURNING * ';\r\n\r\n//delete an office\r\nconst deleteoffice='DELETE FROM office WHERE id =$1';\r\n\r\n// register user\r\nconst registerUser = ' INSERT INTO users (id, firstname,lastname, othername,email,phonenumber,passporturl, password,Isadmin) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9) RETURNING *';\r\n\r\n// Check if a user is logged in\r\nconst checkUser = 'SELECT * FROM users WHERE email = $1';\r\n\r\n\r\n\r\nsqlQueries.createPartiesTable = createPartiesTable;\r\n\r\nsqlQueries.createusersTable = createusersTable;\r\n\r\nsqlQueries.UpdateParty = UpdateParty;\r\n\r\nsqlQueries.getSpecificParty = getSpecificParty;\r\n\r\nsqlQueries.getallParty = getallParty;\r\n\r\nsqlQueries.insertIntoParty = insertIntoParty;\r\n\r\nsqlQueries.createCandidatesTable=createCandidatesTable;\r\n\r\nsqlQueries.createOfficeTable= createOfficeTable;\r\n\r\nsqlQueries.deleteParty= deleteParty;\r\n\r\nsqlQueries.registerUser = registerUser;\r\n\r\nsqlQueries.checkUser = checkUser;\r\n\r\nsqlQueries.insertoffice= insertoffice;\r\n\r\nsqlQueries.getSpecificoffice= getSpecificoffice;\r\n\r\nsqlQueries.getalloffice=getalloffice;\r\n\r\nsqlQueries.Updateoffice=Updateoffice;\r\n\r\nsqlQueries.deleteoffice=deleteoffice;\r\n\r\n\r\nexport default sqlQueries;\r\n"]}