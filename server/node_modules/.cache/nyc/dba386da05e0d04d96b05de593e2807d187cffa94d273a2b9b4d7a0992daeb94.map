{"version":3,"sources":["routes.js"],"names":["router","express","Router","get","authentication","adminTokenRequired","userController","getuser","postController","getloans","getrepayments","getnotrepaid","getrepaid","post","accessTokenRequired","createloans","createrepayments","createUser","login","getOneuser","getOneloan","getOnepayment","patch","verifyloan","verifyuser","delete","deleteloan"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,SAASC,kBAAQC,MAAR,EAAf;AACA;;AAEAF,OAAOG,GAAP,CAAW,eAAX,EAA2BC,yBAAeC,kBAA1C,EAA6DC,0BAAeC,OAA5E;AACAP,OAAOG,GAAP,CAAW,eAAX,EAA2BK,qBAAeC,QAA1C;AACAT,OAAOG,GAAP,CAAW,oBAAX,EAAgCC,yBAAeC,kBAA/C,EAAmEG,qBAAeE,aAAlF;AACAV,OAAOG,GAAP,CAAW,yBAAX,EAAqCC,yBAAeC,kBAApD,EAAwEG,qBAAeG,YAAvF;AACAX,OAAOG,GAAP,CAAW,sBAAX,EAAkCC,yBAAeC,kBAAjD,EAAoEG,qBAAeI,SAAnF;;AAGA;AACAZ,OAAOa,IAAP,CAAY,eAAZ,EAA4BT,yBAAeU,mBAA3C,EAA+DN,qBAAeO,WAA9E;AACAf,OAAOa,IAAP,CAAY,kCAAZ,EAAgDT,yBAAeC,kBAA/D,EAAkFG,qBAAeQ,gBAAjG;AACAhB,OAAOa,IAAP,CAAY,qBAAZ,EAAmCP,0BAAeW,UAAlD;AACAjB,OAAOa,IAAP,CAAY,qBAAZ,EAAmCP,0BAAeY,KAAlD;;AAGA;AACAlB,OAAOG,GAAP,CAAW,mBAAX,EAAgCC,yBAAeC,kBAA/C,EAAkEC,0BAAea,UAAjF;AACAnB,OAAOG,GAAP,CAAW,mBAAX,EAAgCC,yBAAeC,kBAA/C,EAAkEG,qBAAeY,UAAjF;AACApB,OAAOG,GAAP,CAAW,8BAAX,EAA2CK,qBAAea,aAA1D;;AAEA;AACA;AACA;AACA;;;AAGA;AACArB,OAAOsB,KAAP,CAAa,oBAAb,EAAkClB,yBAAeC,kBAAjD,EAAoEG,qBAAee,UAAnF;AACAvB,OAAOsB,KAAP,CAAa,6BAAb,EAA4ClB,yBAAeC,kBAA3D,EAA8EC,0BAAekB,UAA7F;;AAGA;AACAxB,OAAOyB,MAAP,CAAc,mBAAd,EAAkCrB,yBAAeC,kBAAjD,EAAoEG,qBAAekB,UAAnF;AACA;AACA;AACA;AACA;;kBAEe1B,M","file":"routes.js","sourceRoot":"C:/Users/PIH/Documents/challenge/routes","sourcesContent":["import express from \"express\";\r\nimport postController from \"../controller/controller\";\r\nimport userController from \"../controller/userscontroller\";\r\nimport authentication from '../helpers/authentication';\r\nimport body from \"express-validator/check\";\r\n\r\nconst router = express.Router();\r\n//post routers\r\n\r\nrouter.get(\"/api/v1/users\",authentication.adminTokenRequired,userController.getuser);\r\nrouter.get(\"/api/v1/loans\",postController.getloans);\r\nrouter.get(\"/api/v1/repayments\",authentication.adminTokenRequired, postController.getrepayments);\r\nrouter.get(\"/api/v1/loans/notrepaid\",authentication.adminTokenRequired, postController.getnotrepaid);\r\nrouter.get(\"/api/v1/loans/repaid\",authentication.adminTokenRequired,postController.getrepaid);\r\n\r\n\r\n//post routers\r\nrouter.post(\"/api/v1/loans\",authentication.accessTokenRequired,postController.createloans);\r\nrouter.post(\"/api/v1/loans/:loanid/repayments\", authentication.adminTokenRequired,postController.createrepayments);\r\nrouter.post(\"/api/v1/auth/signup\", userController.createUser);\r\nrouter.post(\"/api/v1/auth/signin\", userController.login);\r\n\r\n\r\n//get by id  routers\r\nrouter.get(\"/api/v1/users/:id\" ,authentication.adminTokenRequired,userController.getOneuser);\r\nrouter.get(\"/api/v1/loans/:id\", authentication.adminTokenRequired,postController.getOneloan);\r\nrouter.get(\"/api/v1/loans/:id/repayments\", postController.getOnepayment);\r\n\r\n//updates routers\r\n//router.put(\"/api/v1/parties/:id\", postController.updateparty);\r\n//router.put(\"/api/v1/office/:id\", postController.updateoffice);\r\n//router.put(\"/api/v1/user/:id\", postController.updateuser);\r\n\r\n\r\n// patch router\r\nrouter.patch(\"/api/v1/loans/:id/\",authentication.adminTokenRequired,postController.verifyloan);\r\nrouter.patch(\"/api/v1/users/:email/verify\" ,authentication.adminTokenRequired,userController.verifyuser);\r\n\r\n\r\n//delete routers\r\nrouter.delete(\"/api/v1/loans/:id\",authentication.adminTokenRequired,postController.deleteloan);\r\n//router.delete(\"/api/v1/user/:id\", postController.deleteuser);\r\n//router.delete(\"/api/v1/candidates/:id\", postController.deletecandidate);\r\n//router.delete(\"/api/v1/office/:id\", postController.deleteoffice);\r\n//router.delete(\"/api/v1/petition/:id\", postController.deletepetition);\r\n\r\nexport default router;"]}