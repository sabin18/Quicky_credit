{"version":3,"sources":["loans.js"],"names":["Loan","loans","email","foundloanemail","find","oneloans","LoanId","foundLoan","loan","id","parseInt","Loanid","findIndex","notrepaidloan","status","repaid","repaidloan","data","insertloan","length","createdOn","moment","utc","format","firstname","lastname","tenor","amount","paymentInstallment","parseFloat","balance","interest","push"],"mappings":";;;;;;;;AAAA;;;;;;;;AAEA;IACMA,I;AACJ,kBAAc;AAAA;;AACZ,SAAKC,KAAL,GAAa,EAAb;AACD;;AAED;;;;;8BACUC,K,EAAO;AACf,UAAMC,iBAAiB,KAAKF,KAAL,CAAWG,IAAX,CAAgB;AAAA,eAAYC,SAASH,KAAT,KAAmBA,KAA/B;AAAA,OAAhB,CAAvB;AACA,aAAOC,cAAP;AACD;;AAED;;;;4BACQG,M,EAAQ;AACd,UAAMC,YAAY,KAAKN,KAAL,CAAWG,IAAX,CAAgB;AAAA,eAAQI,KAAKC,EAAL,KAAYC,SAASJ,MAAT,CAApB;AAAA,OAAhB,CAAlB;AACA,aAAOC,SAAP;AACD;;AAED;;;;6BAESI,M,EAAQ;AACf,UAAMX,OAAO,KAAKC,KAAL,CAAWW,SAAX,CAAqB;AAAA,eAAQJ,KAAKC,EAAL,KAAYC,SAASC,MAAT,CAApB;AAAA,OAArB,CAAb;AACA,aAAOX,IAAP;AACD;;AAED;;;;oCACe;AACf,UAAMa,gBAAc,KAAKZ,KAAL,CAAWG,IAAX,CAAgB;AAAA,eAAaC,SAASS,MAAT,IAAkB,UAAlB,IAAgCT,SAASU,MAAT,IAAkB,KAA/D;AAAA,OAAhB,CAApB;AACA,aAAOF,aAAP;AACC;;AAED;;;;iCACY;AACV,UAAMG,aAAW,KAAKf,KAAL,CAAWG,IAAX,CAAgB;AAAA,eAAaC,SAASS,MAAT,IAAkB,UAAlB,IAAgCT,SAASU,MAAT,IAAkB,IAA/D;AAAA,OAAhB,CAAjB;AACA,aAAOC,UAAP;AACC;;;+BAEQC,I,EAAM;AACf,UAAMC,aAAa;AACjBT,YAAI,KAAKR,KAAL,CAAWkB,MAAX,GAAoB,CADP;AAEjBC,mBAAWC,iBAAOC,GAAP,GAAaC,MAAb,CAAoB,qBAApB,CAFM;AAGjBC,mBAAWP,KAAKO,SAHC;AAIjBC,kBAAUR,KAAKQ,QAJE;AAKjBvB,eAAOe,KAAKf,KALK;AAMjBY,gBAAQ,SANS;AAOjBC,gBAAQ,KAPS;AAQjBW,eAAOT,KAAKS,KARK;AASjBC,gBAAQV,KAAKU,MATI;AAUjBC,4BAAoB,CAACC,WAAWZ,KAAKU,MAAhB,IAA0BE,WAAWZ,KAAKU,MAAL,GAAc,CAAd,GAAkB,GAA7B,CAA3B,IAAgEE,WAAWZ,KAAKS,KAAhB,CAVnE;AAWjBI,iBAASD,WAAW,CAACA,WAAWZ,KAAKU,MAAhB,IAA0BE,WAAWZ,KAAKU,MAAL,GAAc,CAAd,GAAkB,GAA7B,CAA3B,IAAgEE,WAAWZ,KAAKS,KAAhB,CAAhE,GAAyFT,KAAKS,KAAzG,CAXQ;AAYjBK,kBAAUd,KAAKU,MAAL,GAAc,CAAd,GAAkB;;AAZX,OAAnB;AAeA,WAAK1B,KAAL,CAAW+B,IAAX,CAAgBd,UAAhB;AACA,aAAOA,UAAP;AACD;;;;;;kBAIY,IAAIlB,IAAJ,E","file":"loans.js","sourceRoot":"C:/Users/PIH/Documents/challenge/models","sourcesContent":["import moment from 'moment';\n\n// Define a class for creating loan\nclass Loan {\n  constructor() {\n    this.loans = [];\n  }\n  \n  // Fetch Email\n  findEmail(email) {\n    const foundloanemail = this.loans.find(oneloans => oneloans.email === email);\n    return foundloanemail;\n  }\n\n  // Fetch Loan by id\n  findOne(LoanId) {\n    const foundLoan = this.loans.find(loan => loan.id === parseInt(LoanId));\n    return foundLoan;\n  }\n\n  //fecth a loan to delete\n  \n  findLoan(Loanid) {\n    const Loan = this.loans.findIndex(loan => loan.id === parseInt(Loanid));\n    return Loan;\n  }\n\n  //fecth not fully repaid loans\n  findnotrepaid(){\n  const notrepaidloan=this.loans.find(oneloans =>( oneloans.status =='approved' && oneloans.repaid ==false));\n  return notrepaidloan;\n  }\n\n  //fecth  fully repaid loans\n  findrepaid(){\n    const repaidloan=this.loans.find(oneloans =>( oneloans.status =='approved' && oneloans.repaid ==true));\n    return repaidloan;\n    }\n\n  createLoan(data) {\n    const insertloan = {\n      id: this.loans.length + 1,\n      createdOn: moment.utc().format('DD-MM-YYYY HH:MM:SS'),\n      firstname: data.firstname,\n      lastname: data.lastname,\n      email: data.email,\n      status: 'pending',\n      repaid: false,\n      tenor: data.tenor,\n      amount: data.amount,\n      paymentInstallment: (parseFloat(data.amount) + parseFloat(data.amount * 5 / 100)) / parseFloat(data.tenor),\n      balance: parseFloat((parseFloat(data.amount) + parseFloat(data.amount * 5 / 100)) / parseFloat(data.tenor) * data.tenor),\n      interest: data.amount * 5 / 100,\n\n    };\n    this.loans.push(insertloan);\n    return insertloan;\n  }\n}\n\n\nexport default new Loan();\n"]}